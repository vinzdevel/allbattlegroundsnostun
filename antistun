local speaker = game.Players.LocalPlayer
local function UpdateCharacter(nChar)
    local Char = nChar or speaker.Character
    local Human = Char and Char:FindFirstChildWhichIsA("Humanoid")

    if not Human then return end

    -- Bắt đầu loop giữ giá trị
    task.spawn(function()
        while true do
            task.wait(0.1) -- Đợi 0.1 giây để tránh lag
            if Char and Human then
                Human.WalkSpeed = G.speed
                if Human.UseJumpPower then
                    Human.JumpPower = G.jpower
                else
                    Human.JumpHeight = G.jpower
                end
            end
        end
    end)
end

UpdateCharacter(speaker.Character)

-- Đảm bảo khi nhân vật thay đổi, các thuộc tính vẫn được giữ nguyên
if HumanModCons.charAdded then
    HumanModCons.charAdded:Disconnect()
end
HumanModCons.charAdded = speaker.CharacterAdded:Connect(UpdateCharacter)
